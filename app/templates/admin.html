{% extends "base.html" %}
{% block content %}

<h2 class="title">ğŸ›  ê´€ë¦¬ì (ì´ë ¥ ë¡¤ë°±)</h2>

<div class="tablewrap">
<table class="inventory">
<thead>
<tr>
  <th>ID</th><th>êµ¬ë¶„</th><th>í’ˆë²ˆ</th><th>LOT</th>
  <th class="right">ìˆ˜ëŸ‰</th><th>ì‘ì—…</th>
</tr>
</thead>
<tbody>
{% for r in rows %}
<tr>
  <td>{{ r.id }}</td>
  <td>{{ r.tx_type }}</td>
  <td>{{ r.item_code }}</td>
  <td>{{ r.lot_no }}</td>
  <td class="right"><b>{{ r.qty }}</b></td>
  <td>
    <button class="btn warn" onclick="rollback({{r.id}})">ë¡¤ë°±</button>
  </td>
</tr>
{% endfor %}
</tbody>
</table>
</div>

<script>
async function rollback(id){
  if(!confirm("ì •ë§ ë¡¤ë°±í• ê¹Œìš”?")) return;
  await fetch(`/api/history/rollback/${id}`,{method:"POST"});
  location.reload();
}
</script>

{% endblock %}
