<script>
    document.getElementById('uploadForm').onsubmit = async (e) => {
        e.preventDefault();
        const formData = new FormData();
        formData.append('file', document.getElementById('excelFile').files[0]);

        try {
            // 주소 수정: 로그에서 에러 났던 /api/excel/upload를 /api/inbound/upload로 변경
            const res = await fetch('/api/inbound/upload', { 
                method: 'POST', 
                body: formData 
            });
            
            const result = await res.json();
            if (res.ok) {
                alert('✅ ' + result.message);
                window.location.href = '/inventory-page'; 
            } else {
                alert('❌ 오류: ' + result.detail);
            }
        } catch (err) {
            alert('❌ 서버 연결에 실패했습니다.');
        }
    };
</script>
