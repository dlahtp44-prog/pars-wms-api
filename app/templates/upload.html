<!DOCTYPE html>
<html>
<head>
    <title>ëŒ€ëŸ‰ ì…ê³  ì—…ë¡œë“œ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container py-5">
        <div class="card shadow mx-auto" style="max-width: 500px;">
            <div class="card-header bg-primary text-white">ğŸ“¦ ëŒ€ëŸ‰ ì—‘ì…€ ì…ê³ </div>
            <div class="card-body">
                <form id="uploadForm">
                    <div class="mb-3">
                        <label class="form-label">ì—‘ì…€ íŒŒì¼ ì„ íƒ (.xlsx)</label>
                        <input class="form-control" type="file" id="excelFile" accept=".xlsx, .xls" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">ì—…ë¡œë“œ ì‹œì‘</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('uploadForm').onsubmit = async (e) => {
            e.preventDefault();
            const formData = new FormData();
            formData.append('file', document.getElementById('excelFile').files[0]);

            try {
                // 404 ì—ëŸ¬ í•´ê²°ì„ ìœ„í•´ ê²½ë¡œë¥¼ ë°±ì—”ë“œì™€ ì¼ì¹˜ì‹œí‚´
                const res = await fetch('/api/inbound/upload', { 
                    method: 'POST', 
                    body: formData 
                });
                const result = await res.json();

                if (res.ok) {
                    alert('âœ… ' + result.message);
                    window.location.href = '/inventory-page'; 
                } else {
                    alert('âŒ ì‹¤íŒ¨: ' + (result.detail || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'));
                }
            } catch (err) {
                alert('âŒ ì„œë²„ ì—°ê²° ì‹¤íŒ¨');
            }
        };
    </script>
</body>
</html>
