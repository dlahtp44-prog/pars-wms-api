{% extends "base.html" %}
{% block content %}

<h4 class="fw-bold mb-3">재고 이동</h4>

<div class="card p-3 shadow-sm">

    <div class="row g-2">

        <h6 class="fw-bold">출고 위치</h6>

        <div class="col-md-3">
            <input id="wh_from" class="form-control" placeholder="출고창고">
        </div>
        <div class="col-md-3">
            <input id="loc_from" class="form-control" placeholder="출고 LOC">
        </div>

        <h6 class="fw-bold mt-3">입고 위치</h6>

        <div class="col-md-3">
            <input id="wh_to" class="form-control" placeholder="입고창고">
        </div>
        <div class="col-md-3">
            <input id="loc_to" class="form-control" placeholder="입고 LOC">
        </div>

        <div class="col-md-4 mt-2">
            <label>품번</label>
            <input id="item" class="form-control">
        </div>

        <div class="col-md-4 mt-2">
            <label>LOT</label>
            <input id="lot" class="form-control">
        </div>

        <div class="col-md-4 mt-2">
            <label>수량</label>
            <input id="qty" class="form-control" type="number">
        </div>

    </div>

    <button onclick="doMove()" class="btn btn-warning w-100 mt-3">이동 실행</button>

</div>

<script>
async function doMove(){
    const params = new URLSearchParams({
        wh_from: wh_from.value,
        loc_from: loc_from.value,
        wh_to: wh_to.value,
        loc_to: loc_to.value,
        item_code: item.value,
        lot_no: lot.value,
        qty: qty.value
    });

    const res = await fetch(`/move/?${params}`, { method:"POST" });
    const data = await res.json();

    alert("이동 완료!");
}
</script>

{% endblock %}

