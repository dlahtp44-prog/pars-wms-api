<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>{{ title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f5f6f8;
        }

        .container {
            max-width: 420px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
        }

        .card {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        label {
            font-weight: bold;
            display: block;
            margin-top: 12px;
        }

        input {
            width: 100%;
            padding: 12px;
            margin-top: 6px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        button {
            width: 100%;
            padding: 14px;
            margin-top: 20px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }

        .btn-move {
            background: #ff9800;
            color: #fff;
        }

        .btn-home {
            background: #6c757d;
            color: #fff;
            margin-top: 10px;
        }

        .result {
            margin-top: 15px;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>

<body>
<div class="container">
    <h1>ğŸ”„ ì¬ê³  ì´ë™</h1>

    <div class="card">
        <label>í’ˆëª© ì½”ë“œ</label>
        <input id="item_code" placeholder="ì˜ˆ: ITEM-001" />

        <label>ì´ë™ ì „ ìœ„ì¹˜</label>
        <input id="from_location" placeholder="ì˜ˆ: A01-01" />

        <label>ì´ë™ í›„ ìœ„ì¹˜</label>
        <input id="to_location" placeholder="ì˜ˆ: B02-03" />

        <label>ë¹„ê³ </label>
        <input id="remark" placeholder="ì¬ê³  ì´ë™ ì‚¬ìœ " />

        <button class="btn-move" onclick="submitMove()">ì¬ê³  ì´ë™ ì²˜ë¦¬</button>
        <button class="btn-home" onclick="goHome()">â† ë©”ì¸ìœ¼ë¡œ</button>

        <div id="result" class="result"></div>
    </div>
</div>

<script>
async function submitMove() {
    const item_code = document.getElementById("item_code").value;
    const from_location = document.getElementById("from_location").value;
    const to_location = document.getElementById("to_location").value;
    const remark = document.getElementById("remark").value;

    if (!item_code || !from_location || !to_location) {
        alert("í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš”.");
        return;
    }

    try {
        const res = await fetch(
            `/move?item_code=${item_code}&from_location=${from_location}&to_location=${to_location}&remark=${remark}`,
            { method: "POST" }
        );

        const text = await res.text();
        document.getElementById("result").innerText = text;
    } catch (e) {
        alert("ì„œë²„ ì˜¤ë¥˜ ë°œìƒ");
    }
}

function goHome() {
    location.href = "/";
}
</script>
</body>
</html>
